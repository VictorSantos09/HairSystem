ﬂ
AC:\Users\victo\Desktop\HairSystem\Hair.Application\Dto\BaseDto.cs
	namespace 	
Application
 
. 
Dto 
{ 
public 

class 
BaseDto 
{ 
public 
int 
_StatusCode 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
_Message 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
object 
_Data 
{ 
get !
;! "
set# &
;& '
}( )
public		 
BaseDto		 
(		 
int		 

statusCode		 %
,		% &
object		' -
data		. 2
)		2 3
{

 	
_StatusCode 
= 

statusCode $
;$ %
_Data 
= 
data 
; 
} 	
public 
BaseDto 
( 
int 

statusCode %
,% &
string' -
message. 5
)5 6
{ 	
_StatusCode 
= 

statusCode $
;$ %
_Message 
= 
message 
; 
} 	
public 
BaseDto 
( 
int 

statusCode %
,% &
string' -
message. 5
,5 6
object7 =
data> B
)B C
{ 	
_Data 
= 
data 
; 
_StatusCode 
= 

statusCode $
;$ %
_Message 
= 
message 
; 
} 	
} 
} ü
HC:\Users\victo\Desktop\HairSystem\Hair.Application\Dto\ChangePriceDto.cs
	namespace 	
Hair
 
. 
Application 
. 
Dto 
{ 
public 

class 
ChangePriceDto 
{ 
public 
Guid 
SaloonId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
double 
NewPrice 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
bool 
Hair 
{ 
get 
; 
set  #
;# $
}% &
public 
bool 
Beard 
{ 
get 
;  
set! $
;$ %
}& '
public		 
bool		 
Mustache		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
bool

 
	Confirmed

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
ChangePriceDto 
( 
Guid "
saloonId# +
,+ ,
double- 3
newPrice4 <
,< =
bool> B
hairC G
,G H
boolI M
beardN S
,S T
boolU Y
mustacheZ b
,b c
boold h
	confirmedi r
)r s
{ 	
SaloonId 
= 
saloonId 
;  
NewPrice 
= 
newPrice 
;  
Hair 
= 
hair 
; 
Beard 
= 
beard 
; 
Mustache 
= 
mustache 
;  
	Confirmed 
= 
	confirmed !
;! "
} 	
} 
} «
DC:\Users\victo\Desktop\HairSystem\Hair.Application\Dto\MessageDto.cs
	namespace 	
Hair
 
. 
Application 
. 
Dto 
{ 
public 

class 

MessageDto 
{ 
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} Å
TC:\Users\victo\Desktop\HairSystem\Hair.Application\Interfaces\IChangePriceService.cs
	namespace 	
Hair
 
. 
Application 
. 

Interfaces %
{ 
public 

	interface 
IChangePriceService (
{ 
public 
BaseDto 
ChangeHaircutePrice *
(* +
double+ 1
newPrice2 :
,: ;
Guid< @
saloonIdA I
,I J
boolK O
	confirmedP Y
,Y Z
bool[ _
hair` d
,d e
boolf j
mustachek s
,s t
boolu y
beardz 
)	 Ä
;
Ä Å
} 
} •0
QC:\Users\victo\Desktop\HairSystem\Hair.Application\Services\ChangePriceService.cs
	namespace 	
Hair
 
. 
Application 
. 
Services #
{ 
public		 

class		 
ChangePriceService		 #
:		$ %
IChangePriceService		& 9
{

 
private 
readonly 
IBaseRepository (
<( )

UserEntity) 3
>3 4
_userRepository5 D
;D E
private 
double 
	_newPrice  
;  !
private 
Guid 
	_saloonId 
; 
public 
ChangePriceService !
(! "
IBaseRepository" 1
<1 2

UserEntity2 <
>< =
userRepository> L
)L M
{ 	
_userRepository 
= 
userRepository ,
;, -
} 	
public 
BaseDto 
ChangeHaircutePrice *
(* +
double+ 1
newPrice2 :
,: ;
Guid< @
saloonIdA I
,I J
boolK O
	confirmedP Y
,Y Z
bool[ _
hair` d
,d e
boolf j
mustachek s
,s t
boolu y
beardz 
)	 Ä
{ 	
if 
( 
! 
	confirmed 
) 
return 
new 
BaseDto "
(" #
$num# &
,& '
$str( ?
)? @
;@ A
	_saloonId 
= 
saloonId  
;  !
	_newPrice 
= 
newPrice  
;  !
if 
( 
double 
. 

IsNegative !
(! "
newPrice" *
)* +
==, .
true/ 3
)3 4
return 
new 
BaseDto "
(" #
$num# &
,& '
$str( =
)= >
;> ?
var 
saloon 
= 
_userRepository (
.( )
GetById) 0
(0 1
saloonId1 9
)9 :
;: ;
if!! 
(!! 
saloon!! 
==!! 
null!! 
)!! 
return"" 
new"" 
BaseDto"" "
(""" #
$num""# &
,""& '
$str""( @
)""@ A
;""A B
var$$ 
haircutePlace$$ 
=$$ 
CheckAndApplyPrice$$  2
($$2 3
hair$$3 7
,$$7 8
mustache$$9 A
,$$A B
beard$$C H
)$$H I
;$$I J
if&& 
(&& 
!&& 
haircutePlace&& 
)&& 
return'' 
new'' 
BaseDto'' "
(''" #
$num''# &
,''& '
$str''( T
)''T U
;''U V
return)) 
new)) 
BaseDto)) 
()) 
$num)) "
,))" #
$"))$ &
$str))& C
{))C D
newPrice))D L
}))L M
"))M N
)))N O
;))O P
}** 	
private++ 
bool++ 
CheckAndApplyPrice++ '
(++' (
bool++( ,
hair++- 1
,++1 2
bool++3 7
mustache++8 @
,++@ A
bool++B F
beard++G L
)++L M
{,, 	
if-- 
(-- 
hair-- 
)-- 
return.. 
ApplyHairPrice.. %
(..% &
)..& '
;..' (
else00 
if00 
(00 
mustache00 
)00 
return11 
ApplyMustachePrice11 )
(11) *
)11* +
;11+ ,
else33 
if33 
(33 
beard33 
)33 
return44 
ApplyBeardPrice44 &
(44& '
)44' (
;44( )
return66 
false66 
;66 
}77 	
private88 
bool88 
ApplyHairPrice88 #
(88# $
)88$ %
{99 	
var:: 
saloon:: 
=:: 
_userRepository:: (
.::( )
GetById::) 0
(::0 1
	_saloonId::1 :
)::: ;
;::; <
if<< 
(<< 
saloon<< 
==<< 
null<< 
)<< 
return== 
false== 
;== 
saloon?? 
.?? 
PriceEntity?? 
.?? 
Hair?? #
=??$ %
	_newPrice??& /
;??/ 0
returnAA 
trueAA 
;AA 
}BB 	
privateCC 
boolCC 
ApplyBeardPriceCC $
(CC$ %
)CC% &
{DD 	
varEE 
saloonEE 
=EE 
_userRepositoryEE (
.EE( )
GetByIdEE) 0
(EE0 1
	_saloonIdEE1 :
)EE: ;
;EE; <
ifGG 
(GG 
saloonGG 
==GG 
nullGG 
)GG 
returnHH 
falseHH 
;HH 
saloonJJ 
.JJ 
PriceEntityJJ 
.JJ 
BeardJJ $
=JJ% &
	_newPriceJJ' 0
;JJ0 1
returnLL 
trueLL 
;LL 
}MM 	
privateNN 
boolNN 
ApplyMustachePriceNN '
(NN' (
)NN( )
{OO 	
varPP 
saloonPP 
=PP 
_userRepositoryPP (
.PP( )
GetByIdPP) 0
(PP0 1
	_saloonIdPP1 :
)PP: ;
;PP; <
ifRR 
(RR 
saloonRR 
==RR 
nullRR 
)RR 
returnSS 
falseSS 
;SS 
saloonUU 
.UU 
PriceEntityUU 
.UU 
MustacheUU '
=UU( )
	_newPriceUU* 3
;UU3 4
returnWW 
trueWW 
;WW 
}XX 	
}YY 
}ZZ 