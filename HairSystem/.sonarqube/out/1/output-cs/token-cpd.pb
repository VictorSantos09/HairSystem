ë
OC:\Users\victo\Desktop\HairSystem\Hair.Repository\Interfaces\IBaseRepository.cs
	namespace 	
Hair
 
. 

Repository 
. 

Interfaces $
{ 
public 

	interface 
IBaseRepository $
<$ %
T% &
>& '
{ 
public 
void 
Add 
( 
T 
entity  
)  !
;! "
public 
List 
< 
T 
> 
GetAll 
( 
) 
;  
public 
T 
? 
GetById 
( 
Guid 
id !
)! "
;" #
public 
void 
Remove 
( 
Guid 
id  "
)" #
;# $
public		 
void		 
Update		 
(		 
Guid		 
id		  "
,		" #
T		$ %
	newEntity		& /
)		/ 0
;		0 1
}

 
} ˆ,
PC:\Users\victo\Desktop\HairSystem\Hair.Repository\Repositories\BaseRepository.cs
	namespace 	

Repository
 
. 

Repository 
{ 
public 

class 
BaseRepository 
<  
T  !
>! "
where# (
T) *
:+ ,

BaseEntity- 7
{ 
private 
readonly 
string 
	_pathFile  )
;) *
public

 
BaseRepository

 
(

 
string

 $
pathFile

% -
)

- .
{ 	
	_pathFile 
= 
$@" 
{ 
	Directory %
.% &
GetCurrentDirectory& 9
(9 :
): ;
}; <
$str< [
{[ \
pathFile\ d
}d e
$stre j
"j k
;k l
} 	
public 
void 
Add 
( 
T 
entity  
)  !
{ 	
var 
list 
= 
GetAll 
( 
) 
;  
list 
. 
Add 
( 
entity 
) 
; 
string 
json 
= 
JsonSerializer (
.( )
	Serialize) 2
(2 3
list3 7
)7 8
;8 9
File 
. 
WriteAllText 
( 
	_pathFile '
,' (
json) -
)- .
;. /
} 	
public 
List 
< 
T 
> 
GetAll 
( 
) 
{ 	
using 
( 
StreamReader 
r  !
=" #
new$ '
StreamReader( 4
(4 5
	_pathFile5 >
)> ?
)? @
{ 
string 
json 
= 
r 
.  
	ReadToEnd  )
() *
)* +
;+ ,
if 
( 
string 
. 
IsNullOrWhiteSpace -
(- .
json. 2
)2 3
)3 4
{ 
return   
new   
List   #
<  # $
T  $ %
>  % &
(  & '
)  ' (
;  ( )
}!! 
return## 
JsonSerializer## %
.##% &
Deserialize##& 1
<##1 2
List##2 6
<##6 7
T##7 8
>##8 9
>##9 :
(##: ;
json##; ?
)##? @
;##@ A
}$$ 
}%% 	
public&& 
T&& 
?&& 
GetById&& 
(&& 
Guid&& 
id&& !
)&&! "
{'' 	
return(( 
GetAll(( 
((( 
)(( 
.(( 
Find((  
(((  !
x((! "
=>((# %
x((& '
.((' (
Id((( *
==((+ -
id((. 0
)((0 1
;((1 2
})) 	
public** 
void** 
Remove** 
(** 
Guid** 
id**  "
)**" #
{++ 	
var,, 
list,, 
=,, 
GetAll,, 
(,, 
),, 
;,,  
var.. 
entity.. 
=.. 
list.. 
... 
Find.. "
(.." #
x..# $
=>..% '
x..( )
...) *
Id..* ,
==..- /
id..0 2
)..2 3
;..3 4
if00 
(00 
entity00 
==00 
null00 
)00 
return11 
;11 
list33 
.33 
Remove33 
(33 
entity33 
)33 
;33  
string55 
json55 
=55 
JsonSerializer55 (
.55( )
	Serialize55) 2
(552 3
list553 7
)557 8
;558 9
File66 
.66 
WriteAllText66 
(66 
	_pathFile66 '
,66' (
json66) -
)66- .
;66. /
}77 	
public88 
void88 
Update88 
(88 
Guid88 
id88  "
,88" #
T88$ %
	newEntity88& /
)88/ 0
{99 	
var:: 
list:: 
=:: 
GetAll:: 
(:: 
):: 
;::  
var<< 
entity<< 
=<< 
list<< 
.<< 
Find<< "
(<<" #
x<<# $
=><<% '
x<<( )
.<<) *
Id<<* ,
==<<- /
id<<0 2
)<<2 3
;<<3 4
if>> 
(>> 
entity>> 
==>> 
null>> 
)>> 
return?? 
;?? 
listAA 
.AA 
RemoveAA 
(AA 
entityAA 
)AA 
;AA  
listCC 
.CC 
AddCC 
(CC 
	newEntityCC 
)CC 
;CC  
stringEE 
jsonEE 
=EE 
JsonSerializerEE (
.EE( )
	SerializeEE) 2
(EE2 3
listEE3 7
)EE7 8
;EE8 9
FileFF 
.FF 
WriteAllTextFF 
(FF 
	_pathFileFF '
,FF' (
jsonFF) -
)FF- .
;FF. /
}GG 	
}HH 
}II ò
TC:\Users\victo\Desktop\HairSystem\Hair.Repository\Repositories\HaircuteRepository.cs
	namespace 	
Hair
 
. 

Repository 
. 
Repositories &
{ 
public 

class 
HaircuteRepository #
:$ %
BaseRepository& 4
<4 5
HaircuteEntity5 C
>C D
{ 
public 
HaircuteRepository !
(! "
)" #
:$ %
base& *
(* +
$str+ 9
)9 :
{		 	
} 	
} 
} ñ
SC:\Users\victo\Desktop\HairSystem\Hair.Repository\Repositories\StorageRepository.cs
	namespace 	
Hair
 
. 

Repository 
. 
Repositories &
{ 
public 

class 
StorageRepository "
:# $
BaseRepository% 3
<3 4
SaloonItemEntity4 D
>D E
{ 
public 
StorageRepository  
(  !
)! "
:# $
base% )
() *
$str* 8
)8 9
{		 	
}

 	
} 
} ñ
PC:\Users\victo\Desktop\HairSystem\Hair.Repository\Repositories\UserRepository.cs
	namespace 	

Repository
 
. 

Repository 
{ 
public 

class 
UserRepository 
:  !
BaseRepository" 0
<0 1

UserEntity1 ;
>; <
,< =
IBaseRepository> M
<M N

UserEntityN X
>X Y
{ 
private 
readonly 
IBaseRepository (
<( )

UserEntity) 3
>3 4
_baseRepository5 D
;D E
public		 
UserRepository		 
(		 
IBaseRepository		 -
<		- .

UserEntity		. 8
>		8 9
baseRepository		: H
)		H I
:		J K
base		L P
(		P Q
$str		Q W
)		W X
{

 	
_baseRepository 
= 
baseRepository ,
;, -
} 	
public 

UserEntity 
? 

GetByEmail %
(% &
string& ,
email- 2
,2 3
string4 :
password; C
)C D
{ 	
return 
GetAll 
( 
) 
. 
Find  
(  !
x! "
=># %
x& '
.' (
Email( -
==. 0
email1 6
&&7 9
x: ;
.; <
Password< D
==E G
passwordH P
)P Q
;Q R
} 	
} 
} 